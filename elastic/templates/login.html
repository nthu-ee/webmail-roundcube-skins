<roundcube:include file="includes/layout.html" />

<h1 class="voice"><roundcube:object name="productname" /> <roundcube:label name="login" /></h1>

<!-- to avoid CSS flickering, show the login form when DOMs are all ready -->
<script>$(function() { $('#layout-content').removeClass('transparent'); });</script>
<div id="layout-content" class="selected no-navbar transparent" role="main">
	<roundcube:object name="logo" src="/images/logo-login.png" data-src-small="0" id="logo" alt="Logo" />
	<h4 id="product-title" style="margin-top:-1rem; margin-bottom:2rem">
		<roundcube:object name="productname" condition="config:display_product_info &gt; 0" />
		<roundcube:if condition="config:display_product_info == 2" />
			<span class="badge badge-success" title="Powered by Roundcube" data-toggle="tooltip">
				<a class="text-white text-decoration-none"
					href="https://github.com/jfcherng/roundcubemail" target="_blank">
					<roundcube:object name="version" />
				</a>
			</span>
		<roundcube:endif />
	</h4>
	<roundcube:form id="login-form" name="login-form" method="post" class="propform">
	<roundcube:object name="loginform" form="login-form" size="40" submit=true />
		<!--
		<p id="login-extra-info">
			<span class="btn btn-danger btn-lg w-100 font-weight-bold">
				<span class="fas fa-exclamation-triangle"></span>
				本系統尚在測試中
			</span>
		</p>
		-->
		<div id="login-footer" role="contentinfo">
			<!-- must have this merged https://github.com/roundcube/roundcubemail/pull/6829 -->
			<roundcube:if condition="config:support_url" />
				<roundcube:if condition="stripos(config:support_url, 'mailto:') === 0" />
					<!-- the support link is begin with "mailto:" -->
					<a href="<roundcube:var name='config:support_url' />" class="support-link badge badge-warning"
						title="<roundcube:exp expression='substr(config:support_url, 7)' />" data-toggle="tooltip">
						寫信給網管
					</a>
				<roundcube:else />
					<!-- support link is not writing an email -->
					<a href="<roundcube:var name='config:support_url' />" target="_blank"
						class="support-link badge badge-warning">
						<roundcube:label name="support" />
					</a>
				<roundcube:endif />
			<roundcube:endif />
			<roundcube:container name="loginfooter" id="login-footer" />
		</div>
	</form>
</div>

<noscript>
	<style> #layout-content { display: none !important; } </style>
	<p class="noscriptwarning"><roundcube:label name="noscriptwarning" /></p>
</noscript>

<roundcube:include file="includes/footer.html" />
